{"version":3,"sources":["webpack://overtake/webpack/bootstrap","webpack://overtake/./src/index.js","webpack://overtake/./src/js/components/base-styles.js","webpack://overtake/./src/js/components/sync-iframes.js","webpack://overtake/./src/js/components/video-player.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","src_lightbox","__webpack_exports__","src_init","props","clickUrlEsc","dev","this_site","site","page_wrapper","pageWrapper","takeover_bg_color","takeoverBGColor","takeover_skin_image","skinImg","takeover_skin_link","skinLink","skin_height","skinHeight","leaderboard_height","leaderboardHeight","supersize_me","supersize","extendHalfpageNLPS","skinLong","skin_top_offset","skinTopOffset","parent","jQuery","css","max-width","padding","position","min-height","window","frameElement","style","width","$","prepend","click","open","addClass","each","this","setProperty","height","e","console","warn","remove","target","pageY","top","cursor","applyBaseStyles","skinImage","skinlong","targetHalfpageContentWindow","document","querySelector","getAttribute","includes","addEventListener","setTimeout","body","display","classList","data","indexOf","halfpageContainer","targetHalfpage","find","length","contentWindow","src","add","postMessage","location","href","syncIframes","el","analytics","log","tag","createElement","id","player","firstScriptTag","getElementsByTagName","parentNode","insertBefore","videoLink","getDur","analytics_ref","watchTime","hasEnded","append","onYouTubeIframeAPIReady","sendAnalytics","percent","ga","eventCategory","eventAction","eventLabel","ready","onPlayerReady","event","VIDEO_QUARTILE","getDuration","hasHit25","hasHit50","hasHit75","setInterval","parseInt","getCurrentTime","toFixed","onPlayerStateChange","clearInterval","on","preventDefault","fancybox","type","controls","maxWidth","maxHeight","fitToView","autoSize","scrolling","afterShow","$VIDEO_IFRAME","attr","iframeSelection","YT","Player","events","onReady","onStateChange","afterClose","videoLightbox"],"mappings":"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","file":"overtake.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n","import {applyBaseStyles} from './js/components/base-styles';\nimport {syncIframes} from './js/components/sync-iframes';\nimport {videoLightbox} from './js/components/video-player';\n\nimport './css/main.css';\n\nlet lightbox;\n\nexport const init = (props, clickUrlEsc) => {\n  // Apply skin styles if not in local dev mode\n  !props.dev && (\n    applyBaseStyles({\n      site: props.site, \n      pageWrapper: props.pageWrapper, \n      takeoverBGColor: props.takeoverBGColor, \n      skinImg: props.skinImage,\n      skinLink: props.skinLink,\n      skinHeight: props.skinHeight,\n      skinTopOffset: props.skinTopOffset,\n      leaderboardHeight: props.leaderboardHeight,\n      supersize: props.supersize,\n      skinlong: props.skinLong,\n    }, clickUrlEsc)\n  );\n  syncIframes(props.site, props.skinImage);\n\n  lightbox = el => {\n    videoLightbox(el, props.analytics);\n  }\n}\n\nexport {lightbox};","export function applyBaseStyles(props, clickUrlEsc) {\n  let this_site = props.site;\n  let page_wrapper = props.pageWrapper;\n  let takeover_bg_color = props.takeoverBGColor;\n  let takeover_skin_image = props.skinImg;\n  let takeover_skin_link = props.skinLink;\n  let skin_height = props.skinHeight;\n  let leaderboard_height = props.leaderboardHeight;\n  let supersize_me = props.supersize;\n  let extendHalfpageNLPS = props.skinLong;\n  let skin_top_offset = props.skinTopOffset;\n\n  // Apply metabomb styles\n  if (this_site == 'metabomb.net') {\n    page_wrapper = '#page-wrapper';\n    parent.jQuery('.billboard').css({\n      'max-width': '1260px'\n    });\n    parent.jQuery('.billboard-container').css({\n      'padding': '0'\n    });\n  }\n\n  // Apply nintendolife and pushsquare styles\n  if (this_site == 'nintendolife.com' || this_site == 'pushsquare.com') {\n    page_wrapper = '#page';\n    parent.jQuery('.inset').css({\n      'position': 'relative'\n    });\n    parent.jQuery('.insert.for-desktop').css({\n      'padding': '0'\n    });\n    parent.jQuery('.masthead .insert').css({\n      'min-height': 'auto'\n    });\n    window.frameElement.style.width = '1280px';\n  }\n\n  // Apply indiedb specific styles\n  if (this_site == 'indiedb.com') {\n    skin_top_offset = '-38';\n  }\n\n  // Apply road to vr specific styles\n  if (this_site == 'roadtovr.com') {\n    page_wrapper = '#td-outer-wrap > .td-outer-container';\n  }\n\n  // Apply mod / indie specific styles\n  if (this_site == 'moddb.com' || this_site == 'indiedb.com') {\n    parent.$('body').css('background', takeover_bg_color + ' url(' + takeover_skin_image + ') no-repeat center ' +\n      skin_top_offset + 'px').prepend(\n      \"<div id='gn_takeover' style='cursor: pointer; position: absolute; display: block; top: 0; left: 0; z-index: 1; width: 100%; height: 100%;'></div>\"\n    );\n\n    parent.$('#gn_takeover').click(function () {\n      window.open(clickUrlEsc + takeover_skin_link, '_blank');\n    });\n  } else {\n\n    // EG / RPS / general takeover styling\n    if (page_wrapper !== '#site-wrapper') {\n      parent.jQuery('body').addClass('skin');\n    }\n\n    // Add takeover to page wrapper\n    parent.jQuery(page_wrapper).prepend(\n      \"<div id='gn_takeover' style='cursor: pointer; position: absolute; display: block; top: 0; left: 0; width: 100%; height: \" +\n      skin_height + \"px;'></div>\");\n\n    // Apply styles to #gn_takeover\n    parent.jQuery('#gn_takeover').each(function () {\n      this.style.setProperty('background-color', takeover_bg_color, 'important');\n      this.style.setProperty('background-image', 'url(' + takeover_skin_image + ')', 'important');\n      this.style.setProperty('background-position', 'center ' + skin_top_offset + 'px', 'important');\n      this.style.setProperty('background-repeat', 'no-repeat', 'important');\n    });\n\n    // gn_takeover metabomb specific styling\n    if (this_site === 'metabomb.net') {\n      parent.jQuery('#gn_takeover').css('z-index', '1');\n      parent.jQuery('.billboard-container').css('position', 'relative');\n      parent.jQuery('.billboard-container').css('z-index', '1');\n    }\n\n    // gn_takeover rps specific styling\n    if (this_site == 'rockpapershotgun.com') {\n      parent.jQuery('#gn_takeover').css('height', '1316px');\n      parent.jQuery('#gn_takeover').css('z-index', '-1');\n    }\n\n    if(this_site == 'eurogamer.net') {\n      parent.jQuery('#gn_takeover').css('height', '1316px');\n    }\n\n    // Attatch click listener to #gn_takeover\n    parent.jQuery('#gn_takeover').click(function () {\n      window.open(clickUrlEsc + takeover_skin_link, '_blank');\n    });\n\n    // Adjust leaderboard height and padding\n    parent.jQuery('#leaderboard').css({\n      'height': leaderboard_height + 'px',\n      'min-height': leaderboard_height + 'px'\n    });\n    parent.jQuery('.advert.leaderboard.landscape').css({\n      'height': leaderboard_height + 'px'\n    });\n    parent.jQuery('.leaderboard-container').css({\n      'padding': '0'\n    });\n\n    // Metabomb specific document styling\n    if (this_site == 'metabomb.net') {\n      parent.jQuery('.document').css({\n        'padding': '0'\n      });\n      parent.jQuery('.billboard-container').css({\n        'padding': '0'\n      });\n      parent.jQuery('.billboard.advert').css({\n        'padding': '0',\n        'width': '1260px'\n      });\n      // Resize leaderboatd iframe size for metabomb \n      window.frameElement.style.width = '1260px';\n    }\n\n    // If new leaderboard height is defined, attempt to resize\n    if (leaderboard_height) {\n      // Catch error so that creatives will still display in dfp\n      try {\n        window.frameElement.style.height = leaderboard_height + 'px';\n      } catch (e) {\n        console.warn('Could not interact with parent IFrame, or parent IFrame does not exist'); // eslint-disable-line no-console\n      }\n      parent.jQuery(page_wrapper).each(function () {\n        this.style.setProperty('position', 'relative');\n      });\n    }\n\n    // Supersize code\n    if (supersize_me) {\n      parent.jQuery(\".right-sidebar\").remove();\n      parent.jQuery(page_wrapper).each(function () {\n        this.style.setProperty('background-color', takeover_bg_color, 'important');\n      });\n    }\n\n    // Add skin-long class to nintendolife and pushsquare\n    if (extendHalfpageNLPS) {\n      parent.jQuery('body').addClass('skin-long');\n    }\n\n    // Ensure cursor is pointer for #gn_takeover\n    parent.jQuery('html').bind('mousemove', function (e) {\n      if ((e.target == parent.jQuery(page_wrapper)[0]) && (e.pageY <= skin_height + parent.jQuery(page_wrapper)\n        .position().top)) {\n        parent.jQuery('html').css({\n          'cursor': 'pointer'\n        });\n      } else {\n        parent.jQuery('html').css({\n          'cursor': 'auto'\n        });\n      }\n    });\n\n    // Ensure a click on #gn_takeover opens the click url\n    parent.jQuery('html').bind('click', function (e) {\n      if ((e.target == parent.jQuery(page_wrapper)[0]) && (e.pageY <= skin_height + parent.jQuery(page_wrapper)\n        .position().top)) {\n        window.open(clickUrlEsc + takeover_skin_link, '_blank');\n      }\n    });\n  }\n}","export function syncIframes(site, skinImg) {\n  const this_site = site;\n  const takeover_skin_image = skinImg;\n  // Check if unit is a halfpage or leaderboard\n  const is_halfpage = document.querySelector('#ad-wrapper').getAttribute('rel').includes('halfpage');\n  let targetHalfpageContentWindow;\n\n  // Leaderboard Code\n  if (!is_halfpage) {\n    let halfpageContainer = '#skyscraper';\n    // Set target halfpage for post message based on host site\n    switch (this_site) {\n    case 'usgamer.net':\n      halfpageContainer = '.advert.halfpage';\n      break;\n    case 'moddb.com':\n    case 'indiedb.com':\n      halfpageContainer = '.column.span-300.last';\n      break;\n    case 'metabomb.net':\n      halfpageContainer = 'aside';\n      break;\n    case 'pushsquare.com':\n      halfpageContainer = '.col-2';\n      break;\n    case 'nintendolife.com':\n      halfpageContainer = '.col-2';\n      break;\n    case 'vg247.com':\n      halfpageContainer = '#skyscraper';\n      break;\n    }\n\n    // Try catch block so that post code does not error out \n    try {\n      // Find iFrame within target halfpage\n      let targetHalfpage = parent.jQuery(halfpageContainer).find('iframe');\n      // Nintendolife features different halfpage wrappers for the home screen and articles\n      if (targetHalfpage.length < 1) {\n        if (this_site == 'nintendolife.com' || this_site === 'pushsquare.com') {\n          targetHalfpage = parent.jQuery('#page-sidebar').find('iframe');\n        }\n      }\n      targetHalfpageContentWindow = targetHalfpage[0].contentWindow;\n    } catch (e) {\n      console.warn('Could not find target halfpage'); // eslint-disable-line no-console\n    }\n\n    // Check if skin image has loaded\n    document.querySelector('#skin-load-test').src = takeover_skin_image;\n    document.body.classList.add('js-loading');\n    // Post message and trigger animations on load\n    window.addEventListener('load', function () {\n      document.body.classList.remove('js-loading');\n      document.body.style.display = 'block';\n      try {\n        targetHalfpageContentWindow.postMessage('leaderboard+skin_loaded', window.parent.window.location.href);\n      } catch (e) {\n        console.warn('Target halfpage not defined, postMessage failed'); // eslint-disable-line no-console\n      }\n    });\n  } else {\n    // Halfpage Code\n    window.addEventListener('load', function () {\n      // If no post message is received within a timeout time, show the creative\n      setTimeout(function () {\n        if (document.body.style.display === 'none') {\n          document.body.classList.remove('js-loading');\n          document.body.style.display = 'block';\n        }\n      }, 2500);\n    });\n    \n    // Resume animations and display on post message\n    window.addEventListener('message', function (e) {\n      if (e.data.indexOf('leaderboard+skin_loaded') >= 0) {\n        document.body.classList.remove('js-loading');\n        document.body.style.display = 'block';\n      }\n    });\n  }\n}","export function videoLightbox(el, analytics) {\n  console.log(analytics)\n  // Youtube Iframe api\n  let tag = document.createElement('script');\n  tag.id = 'iframe-demo';\n  tag.src = 'https://www.youtube.com/iframe_api';\n  const firstScriptTag = document.getElementsByTagName('script')[0];\n  firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\n  let player;\n\n  const analytics_ref = analytics;\n  const this_site = '%%SITE%%';\n\n  // Video Popup\n  let videoLink;\n  let getDur;\n  let watchTime = 0;\n  let hasEnded = false;\n\n  parent.jQuery('head').append(\n    \"<script type='text/javascript' src='//images.eurogamer.net/2014/plugins/fancybox/jquery.fancybox.min.js'></script>\"\n  );\n  parent.jQuery('head').append(\n    \"<link rel='stylesheet' href='//images.eurogamer.net/2014/plugins/fancybox/styles/jquery.fancybox.css' type='text/css' media='screen'/>\"\n  );\n\n  // Tracking Code\n  window.onYouTubeIframeAPIReady = function() { // eslint-disable-line no-unused-vars\n    jQuery(document).ready(function () {\n      const $LINK = jQuery(el);\n      $LINK.on('click', function (e) {\n        e.preventDefault();\n        videoLink = this.href;\n        window.ga('showcase.send', 'event', {\n          'eventCategory': analytics_ref,\n          'eventAction': 'Video Started Playing',\n          'eventLabel': '%%SITE%%'\n        });\n        hasEnded = false;\n        parent.jQuery.fancybox({\n          type: 'iframe',\n          href: videoLink + '?enablejsapi=1&autoplay=1',\n          controls: 0,\n          maxWidth: 1262,\n          maxHeight: 710,\n          fitToView: false,\n          width: '90%',\n          height: '90%',\n          autoSize: false,\n          scrolling: 'no',\n          padding: '0',\n          afterShow: function () {\n            if (videoLink.includes('youtube')) {\n              var $VIDEO_IFRAME = parent.jQuery('.fancybox-inner').find('iframe').attr('id');\n              var iframeSelection = parent.jQuery('#' + $VIDEO_IFRAME + '')[0];\n              player = new YT.Player(iframeSelection, { // eslint-disable-line no-undef\n                events: {\n                  'onReady': onPlayerReady,\n                  'onStateChange': onPlayerStateChange\n                }\n              });\n            }\n          },\n          afterClose: function () {\n            if (!hasEnded) {\n              clearInterval(getDur);\n            }\n          }\n        });\n      });\n\n      function onPlayerReady(event) { // eslint-disable-line no-unused-vars\n        var VIDEO_TIME = player.getDuration();\n        var VIDEO_QUARTILE = VIDEO_TIME / 4;\n        var hasHit25 = false;\n        var hasHit50 = false;\n        var hasHit75 = false;\n        getDur = setInterval(function () {\n          watchTime = parseInt(player.getCurrentTime().toFixed(0));\n          if (watchTime > VIDEO_QUARTILE && watchTime < VIDEO_QUARTILE * 2) {\n            if (!hasHit25) {\n              sendAnalytics(25);\n              hasHit25 = true;\n            }\n          } else if (watchTime > VIDEO_QUARTILE * 2 && watchTime < VIDEO_QUARTILE * 3) {\n            if (!hasHit50) {\n              sendAnalytics(50);\n              hasHit50 = true;\n            }\n          } else if (watchTime > VIDEO_QUARTILE * 3 && watchTime < VIDEO_QUARTILE * 4) {\n            if (!hasHit75) {\n              sendAnalytics(75);\n              hasHit75 = true;\n            }\n          } else {\n            return false;\n          }\n        }, 100);\n      }\n\n      function onPlayerStateChange(event) {\n        if (event.data === 0) {\n          clearInterval(getDur);\n          hasEnded = true;\n          sendAnalytics(100);\n        }\n      }\n    });\n\n    function sendAnalytics(percent) {\n      window.ga('showcase.send', 'event', {\n        'eventCategory': analytics_ref,\n        'eventAction': 'Overlay Video: Watched ' + percent + '%',\n        'eventLabel': this_site\n      });\n    }\n  }\n}"],"sourceRoot":""}