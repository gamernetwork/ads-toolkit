<!-- The Fish Bowl Image -->
<div id="fishbowl" style="display:none;">
    <div id="fishbowl-bg">
        <img src="YOUR_FISHBOWL_IMAGE_HERE" width="100%" />
    </div>
</div>

<!-- The Fish Bowl Link -->
<div id="fishbowl-link" style="display:none;">
    <a href="{clickurl}YOUR_LINK_HERE" class="fishbowl-ad" title="Click-through" target="_blank"></a>
</div>
<!-- The Fish Bowl MPU Fallback -->
<div id="fishbowl-fallback" style="display:none;">
    <a href="{clickurl}YOUR_LINK_HERE" class="fishbowl-ad" title="Click-through" target="_blank"><img src="YOUR_FALLBACK_IMAGE_HERE" /></a>
</div>

<!-- CSS Overrides for EG article templates -->
<style>

  body .page .content,
  #article {
    background: transparent;
  }
  article {
    background: transparent;
    padding: 0;
  }
  article .social-buttons {
    padding: 0 10px 15px;
  }
  article .social.bottom,
  section.conclusion {
    padding-top: 0;
    float: left;
    width: 100%;
  }
  article > p,
  article > p.version-tested {
    background: none repeat scroll 0 0 #FFFFFF;
    margin-bottom: 0;
    padding: 0 10px 14px;
    border: 0;
  }
  article p.score {
    margin: 0;
  }
  article a.scoring-policy {
    clear: both;
    margin-right: 10px;
  }
  #content header {
    margin-bottom: 0;
    padding: 10px;
    border-bottom: 0;
  }
  article .illustrationPreview {
    background: none repeat scroll 0 0 #ffffff;
    margin: 0;
    padding: 0 0 20px;
    width: 100%;
  }
  article section > h2 {
    padding: .5em 10px .5em 10px;
    margin: 0;
  }
  article .pullquote {
    padding: 0 20px 20px;
    margin: 0;
  }
  article .illustration, article .illustrationPreview, article .video {
    margin: 0;
    padding: 0 10px 20px 10px;
  }
  #content header > .cover-image > img {
    z-index: 0;
  }
  article ul {
    margin: 0;
    padding: 0 30px 20px 30px;
  }
  article ul,
  article > header,
  article > footer,
  article > section p,
  article .social-buttons,
  article section > h2,
  article .pullquote,
  article .illustration, 
  article .illustrationPreview, 
  article .video,
  section.conclusion,
  section ol {
    background: #ffffff;
  }
  section ol {
    padding: 0 40px 20px 30px;
    margin: 0;
  }
  article div.pager {
    background: #ffffff;
    padding: 0 10px 15px 10px;
  }
  #content table {
    margin: 0;
  }
  article > section p {
    padding: 0 10px 20px 10px;
    margin: 0;
  }
  article > section p:first-child {
    padding: 20px 10px;
  }
  article > section {
    padding: 0;
  }
  article > section > p {
    max-width: 100%;
  }  
  .fishbowl-fixer-wrapper {
    background: #ffffff;
    text-align: center;
  }
 .fishbowl-comment-wrapper {
    background: #ffffff;
    text-align: center;
    float: left;
    width: 100%;
    padding-top: 10px;
  }
  .fishbowl-fixer-padding {
    padding: 0 10px 20px 10px;
    margin: 0;
    background: #ffffff;
  }
  #leaderboard,
  #content header {
    background: #ffffff;
  }
  #footer {
    border-top: 0;
  }
  #fishbowl {
    position: fixed;
    top: 0;
    z-index: 0;
    width: 100%;
    max-width: 1024px;
    -webkit-backface-visibility: hidden;
  }
  #mobile-mpu {
    width: 0;
    height: 0;
  }
  #kixer-affiliates {
    z-index: 2;
  }
  #fishbowl-link {
    position: absolute;
    width: 100%;
    height: 400px;
    z-index: 1;
  }
  #fishbowl-link a {
    display: block;
    width: 100%;
    height: 100%;
  }
  #fishbowl-link:after {
    content: 'Advertisement';
    position: absolute;
    display: inline-block;
    text-align: left;
    text-transform: uppercase;
    color: #EEE;
    font-size: 11px;
    padding: 10px 20px 2px;
    font-family: 'Helvetica Neue', Helvetica, sans-serif;
    bottom: 0;
    left: 0;
    right: 0;
    height: 20px;
    background: -moz-linear-gradient(top, rgba(0,0,0,0) 0%, rgba(0,0,0,0.65) 100%);
    background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,rgba(0,0,0,0)), color-stop(100%,rgba(0,0,0,0.65)));
    background: -webkit-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
    background: -o-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
    background: -ms-linear-gradient(top, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
    background: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.65) 100%);
    z-index: 10;
  }
  @media screen and (min-width: 768px)
  {
    .related-games {
      margin-bottom: 0;
      padding-bottom: 1em;
      background: #ffffff;
    }
  }

</style>

<script type="text/javascript">

  function fishbowl_scale() {

    cutoff = j('#mobile-mpu').prev();

    // Reset everything on window resize (switching between landscape / portrait)
    j('#fishbowl').hide();
    j('#fishbowl-link').hide();
    j('#fishbowl-fallback').hide();
    j('#mobile-mpu').css({
      'width' : '0',
      'height' : '0'
    });
    cutoff.css({'margin-bottom' : '0'});

    j('#mobile-mpu').next().css({'padding-top' : '1.5em'});

    if(window.innerHeight > window.innerWidth){

      // Position Fish Tank link over the 'hole'
      fishbowlOffset = j('#mobile-mpu').offset();
      contentOffset = j('#fragment-1').offset();
      j('#fishbowl-link').css({'top' : (fishbowlOffset.top - contentOffset.top) + 'px'});

      // Punch the 'hole' and make sure element after it has padding-top
      cutoff.css({'margin-bottom' : '400px'});

      j('#fishbowl').show();
      j('#fishbowl-link').show();

      ga('showcase.send', 'event', 'Fish Bowl', 'View Fish Bowl', '{line.id}');

    } else {

      // Display fallback MPU
      j('#fishbowl-fallback').show();
      j('#mobile-mpu').css({
        'width' : '300px',
        'height' : '250px',
        'overflow' : 'hidden'
      });

      ga('showcase.send', 'event', 'Fish Bowl', 'View Fallback MPU', '{line.id}');

    }

  }

  j(window).ready(function() {

    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-23103987-1', 'auto', {'name': 'showcase'});

    // Fix certain article elements with background colour and padding
    j('#leaderboard').wrap('<div class="fishbowl-fixer-wrapper"></div>');
    j('article .illustration').wrap('<div class="fishbowl-fixer-wrapper"></div>');
    j('#content table').wrap('<div class="fishbowl-fixer-padding"></div>');
    j('#fragment-1 article aside').wrap('<div class="fishbowl-fixer-padding"></div>');
    j('#fragment-1 article .zoomer').wrap('<div class="fishbowl-fixer-padding"></div>');
    j('#fragment-1 article .scoring-policy').wrap('<div class="fishbowl-fix-scoring"></div>');
    j('#content > a.tool.plain').wrap('<div class="fishbowl-comment-wrapper"></div>');

    // Move elements into page content to better handle background colour and padding
    if(j('section.conclusion').html()) {
      j('section.conclusion').append(j('.fishbowl-fix-scoring'));
    } else {
      j('.fishbowl-fix-scoring').css({
        'float' : 'left',
        'width' : '100%',
        'background' : 'white'
      });
    }
    j('#page-wrapper').append(j('#footer'));

    j('#mobile-mpu').css({'margin-bottom' : '0'});

    // Move Fish Bowl elements into article content
    j('#browserMaster').prepend(j('#fishbowl'));
    j('#fragment-1 article').after(j('#fishbowl-link'));

    j(window).load(fishbowl_scale);
    j(window).ready(fishbowl_scale);
    j(window).resize(fishbowl_scale);

  });

</script>